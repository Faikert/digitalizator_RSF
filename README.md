# digitalizator

## main.ipynb

1. Первая ячейка хранит import и определения функций
   - **mask_for_dot** ищет матрицу ближайших пикселей для точки
   - **mask_map** выдает средний цвет по **mask_for_dot** для всех
   - **rotate_vector** поворачивает вектор *(x, y)* на угол в радианах
   - **drawPts** рисует точки кружки на изображении
   - **addPivot** НЕ ИСПОЛЬЗУЕТСЯ
   - **readSrc** считывает изображение, может сделать **PerspectiveTransform**
   - **updateGap** и **rotatePts** двигает и поворачивает точки
2. Вторая ячейка основная
   - *src* хранит картинку в виде числел от 0 до 1
   - *pts* хранит большую систему частиц
   - в цикле *while* выводится картинка и задаются нажатия клавиш
3. Третьяя ячейка рисует стрелочки на точках. В идеале, прямо на частицах.
   - *norm_mask* нормирует цвета из **mask_map** и вычитает фон (старается)
   - **pts[norm_mask < col, 2:4]** **\*=** **-1** поворачивает те, что ниже *col*
4. Четвертая ячейка применяет всё вышеперчисленное ко всем картинкам в цикле
   - *acc* кидает ворнинги если слишком много частиц одного цвета или серые (такое происходит, если картинка сильно не совпадает с предыдущими) 
